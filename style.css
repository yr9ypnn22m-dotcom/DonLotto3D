* { box-sizing: border-box; }

body {
  margin: 0;
  background: radial-gradient(circle at top, #ffeef7 0, #f7f8ff 40%, #e4ebff 75%, #ccd6ff 100%);
  color: #333;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  transition: background 0.6s ease;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

#wrapper {
  display: flex;
  flex-direction: column;
  gap: 16px;
  align-items: center;
}

#title {
  font-size: 26px;
  font-weight: 800;
  color: #ff6fa6;
  text-shadow: 0 2px 0 rgba(255,255,255,0.9);
  letter-spacing: 0.03em;
  transition: color 0.3s ease;
}

#subtitle {
  font-size: 13px;
  color: #777;
  text-align: center;
  transition: color 0.3s ease;
}

/* === SPIELBEREICH === */

#gameContainer {
  border-radius: 32px;
  padding: 14px 18px 20px;
  background: radial-gradient(circle at top left, #ffffff 0, #f9f5ff 40%, #f0f4ff 100%);
  box-shadow:
    0 18px 40px rgba(117, 133, 255, 0.35),
    inset 0 0 0 1px rgba(255,255,255,0.9);
  position: relative;
  transition: box-shadow 0.3s ease, background 0.3s ease;
}

/* === NEUE BACKGROUND-LAYER (unscharfer Hintergrund) === */
#canvas-area {
  position: relative;
  width: 800px;   /* gleiche Größe wie dein Canvas */
  height: 500px;
  border-radius: 24px;
  overflow: hidden;  /* Hintergrund & Canvas werden sauber beschnitten */
  margin-bottom: 10px;
}

#canvas-bg {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: blur(6px);
  z-index: 0;
  border-radius: 24px;
  pointer-events: none;   /* <<< WICHTIG – verhindert Klickblockierung */
}

#lotto-canvas {
  position: relative;
  z-index: 1;
  border-radius: 24px;
  background: transparent;
  display: block;
}

/* === Preset-Hintergründe auf der Blur-Ebene === */

#canvas-bg.preset-euromillions {
  background-image: url('em.jpg');
}

#canvas-bg.preset-eurojackpot {
  background-image: url('ej.jpg');
}

#canvas-bg.preset-swisslotto {
  background-image: url('sl.jpg');
}

#canvas-bg.preset-custom {
  background: radial-gradient(circle at top,
    #ffe9ff 0%,
    #c7d6ff 40%,
    #d6ecff 85%);
}

/* === UI === */

#ui {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: flex-start;
  margin-top: 10px;
  gap: 8px 14px;
  font-size: 13px;
  color: #555;
}

#controlsLeft {
  display: flex;
  flex-direction: column;
  gap: 6px;
  flex-wrap: wrap;
}

#buttonsRow {
  display: flex;
  gap: 6px;
  align-items: center;
  flex-wrap: wrap;
}

#configRow {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 12px;
  color: #666;
}

.configLine {
  display: flex;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
}

input[type="number"] {
  width: 60px;
  padding: 3px 5px;
  border-radius: 999px;
  border: 1px solid #ccd3ff;
  text-align: center;
  font-size: 12px;
  outline: none;
}

input[type="number"]:focus {
  box-shadow: 0 0 0 2px rgba(123, 157, 255, 0.35);
  border-color: #7b9dff;
}

#presetSelect,
#secondTypeSelect,
#second-type,
#ball-color,
#star-color,
#blower-mode {
  padding: 3px 6px;
  border-radius: 999px;
  border: 1px solid #ccd3ff;
  font-size: 12px;
  background: #f8f9ff;
  outline: none;
}

#presetSelect:focus,
#secondTypeSelect:focus,
#second-type:focus,
#ball-color:focus,
#star-color:focus,
#blower-mode:focus {
  box-shadow: 0 0 0 2px rgba(123, 157, 255, 0.35);
  border-color: #7b9dff;
}

/* === BUTTONS === */

#drawButton, #resetButton, #statButton, #statsButton {
  padding: 7px 16px;
  border-radius: 999px;
  border: none;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  box-shadow:
    0 6px 14px rgba(0, 0, 0, 0.18),
    inset 0 0 0 1px rgba(255,255,255,0.9);
  transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.1s ease, background 0.3s ease, color 0.3s ease;
  white-space: nowrap;
}

#drawButton {
  background: linear-gradient(145deg, #ffb7d5, #ff81b3);
  color: #6b1840;
}

#resetButton {
  background: linear-gradient(145deg, #e3ffe3, #b5f5b5);
  color: #245624;
}

#statButton {
  background: linear-gradient(145deg, #c8f1ff, #7fd0ff);
  color: #134563;
}

#statsButton {
  background: linear-gradient(145deg, #c8f1ff, #7fd0ff);
  color: #134563;
}

#drawButton:hover:not(:disabled),
#statButton:hover:not(:disabled),
#statsButton:hover:not(:disabled),
#resetButton:hover:not(:disabled) {
  filter: brightness(1.05);
}

#drawButton:active:not(:disabled),
#statButton:active:not(:disabled),
#statsButton:active:not(:disabled),
#resetButton:active:not(:disabled) {
  transform: translateY(1px) scale(0.99);
  box-shadow:
    0 3px 8px rgba(0, 0, 0, 0.22),
    inset 0 0 0 1px rgba(255,255,255,0.9);
}

#drawButton:disabled,
#statButton:disabled,
#statsButton:disabled {
  opacity: 0.5;
  cursor: default;
  transform: none;
  box-shadow:
    0 2px 5px rgba(150, 150, 150, 0.5),
    inset 0 0 0 1px rgba(255,255,255,0.7);
}

#muteButton {
  padding: 7px 16px;
  border-radius: 999px;
  border: none;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  white-space: nowrap;

  /* Hintergrund im selben Stil wie die anderen Buttons */
  background: linear-gradient(145deg, #e8e8ff, #c9d0ff);
  color: #3a3f6b;

  box-shadow:
    0 6px 14px rgba(0, 0, 0, 0.18),
    inset 0 0 0 1px rgba(255,255,255,0.9);

  transition:
    transform 0.08s ease,
    box-shadow 0.08s ease,
    filter 0.1s ease,
    background 0.3s ease,
    color 0.3s ease;
}

#muteButton:hover:not(:disabled) {
  filter: brightness(1.05);
}

#muteButton:active:not(:disabled) {
  transform: translateY(1px) scale(0.99);
  box-shadow:
    0 3px 8px rgba(0, 0, 0, 0.22),
    inset 0 0 0 1px rgba(255,255,255,0.9);
}

/* Deaktiviert (falls du später willst) */
#muteButton:disabled {
  opacity: 0.5;
  cursor: default;
  transform: none;
  box-shadow:
    0 2px 5px rgba(150, 150, 150, 0.5),
    inset 0 0 0 1px rgba(255,255,255,0.7);
}

/* === ERGEBNISBEREICH === */

#results {
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 12px;
  align-items: flex-end;
}

#lastDrawn {
  font-size: 14px;
  font-weight: 700;
  color: #444;
  margin-bottom: 2px;
  transition: color 0.3s ease;
}

#lastDrawn span {
  display: inline-flex;
  min-width: 36px;
  height: 32px;
  align-items: center;
  justify-content: center;
  margin-left: 6px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 20%, #fff8ff 0, #ffe0f3 40%, #ffc0de 100%);
  box-shadow:
    0 4px 10px rgba(255, 128, 179, 0.4),
    inset 0 0 0 1px rgba(255,255,255,0.9);
  color: #a01d54;
}

.resultRowLabel {
  font-weight: 600;
  color: #666;
  margin-right: 4px;
  transition: color 0.3s ease;
}

.resultRow {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  align-items: center;
  gap: 3px;
}

.chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 22px;
  height: 22px;
  padding: 0 6px;
  border-radius: 999px;
  background: rgba(255, 187, 217, 0.35);
  box-shadow:
    0 1px 3px rgba(255, 130, 179, 0.4),
    inset 0 0 0 1px rgba(255,255,255,0.8);
  color: #a53a63;
  font-size: 11px;
  transition: background 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
}

/* Sterne / Zusatzzahlen in Gold-Optik */
.chip.starChip {
  background: radial-gradient(circle at 30% 20%, #fff7d0 0, #ffe08a 40%, #f2c04f 100%);
  color: #7b4c00;
  box-shadow:
    0 1px 4px rgba(180,130,40,0.7),
    inset 0 0 0 1px rgba(255,255,255,0.9);
}

.chip.empty {
  opacity: 0.5;
  font-style: italic;
}

#logo-frame {
  width: 830px;          /* gleiche Breite wie das lotto-canvas */
  height: 130px;         /* exakt deine gewünschte Höhe */
  border-radius: 24px;
  overflow: hidden;
  margin-bottom: 12px;

  background: radial-gradient(circle at top left, #ffffff 0, #f9f5ff 40%, #f0f4ff 100%);
  box-shadow:
    0 18px 40px rgba(117, 133, 255, 0.35),
    inset 0 0 0 1px rgba(255,255,255,0.9);

  display: flex;
  align-items: center;
  justify-content: center;
}

#logo-img {
  width: 100%;
  height: 100%;
  object-fit: contain;   /* füllt den Rahmen harmonisch aus */
  transform: scale(1.3);
}

/* === STATISTIK-POPUP === */

.modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}

.hidden {
  display: none !important;
}

.modal {
  background: #ffffff;
  border-radius: 18px;
  padding: 14px 16px 16px;
  min-width: 420px;
  max-width: 780px;
  max-height: 80vh;
  box-shadow:
    0 18px 40px rgba(0, 0, 0, 0.28),
    inset 0 0 0 1px rgba(255,255,255,0.9);
  display: flex;
  flex-direction: column;
  gap: 8px;
  overflow: hidden;
}

.modalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.modalHeader h2 {
  font-size: 16px;
  margin: 0;
  color: #444;
}

.modalClose {
  border: none;
  background: transparent;
  font-size: 18px;
  padding: 0 4px;
  cursor: pointer;
  color: #888;
}

.modalClose:hover {
  color: #444;
}

.modalBody {
  font-size: 12px;
  color: #555;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.modalHint {
  margin: 0;
  font-size: 11px;
  color: #777;
}

.statsColumns {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.statsColumn {
  flex: 1 1 220px;
  min-width: 0;
}

.statsColumn h3 {
  margin: 0 0 4px 0;
  font-size: 13px;
  color: #444;
}

.statsList {
  max-height: 52vh;
  overflow-y: auto;
  padding-right: 4px;
}

.statsRow {
  display: flex;
  align-items: baseline;
  gap: 8px;
  font-size: 12px;
  padding: 2px 0;
  border-bottom: 1px dotted rgba(0, 0, 0, 0.05);
}

.statsRow .num {
  font-weight: 700;
  min-width: 24px;
}

.statsRow .pct {
  font-variant-numeric: tabular-nums;
  min-width: 70px;
}

.statsRow .meta {
  font-size: 11px;
  color: #888;
}


#blow-hint {
  position: absolute;
  left: 50%;
  top: 12%;
  transform: translateX(-50%);
  padding: 6px 12px;
  border-radius: 999px;
  background: rgba(0, 0, 0, 0.35);
  color: #fdfdfd;
  font-size: 14px;
  font-weight: 600;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.25s ease;
}

#blow-hint.visible {
  opacity: 1;
}


/* === MOBILE LAYOUT (bis ca. 900px Breite) === */
@media (max-width: 900px) {

  body {
    align-items: flex-start;
    height: auto;
    min-height: 100vh;
    padding: 8px 6px 16px;
  }

  #wrapper {
    width: 100%;
    align-items: center;
  }

  #gameContainer {
    width: 100%;
    max-width: 100%;
    padding: 10px 10px 16px;
  }

  /* Logo über der Trommel in voller Breite */
  #logo-frame {
    width: 100%;
    max-width: 100%;
    height: 90px;
    margin-bottom: 10px;
  }

  #logo-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  /* Canvas nutzt volle Breite, etwas höhere Bühne im Hochformat */
  #canvas-area {
    width: 100%;
    max-width: 100%;
    height: min(520px, 70vh);
    margin-bottom: 10px;
  }

  #lotto-canvas {
    width: 100%;
    height: 100%;
    display: block;
  }

  /* UI unter der Trommel, einspaltig */
  #ui {
    grid-template-columns: 1fr;
    gap: 10px;
    margin-top: 12px;
  }

  #controlsLeft {
    width: 100%;
  }

  #buttonsRow {
    justify-content: center;
    flex-wrap: wrap;
  }

  #buttonsRow button,
  #muteButton {
    flex: 1 1 calc(50% - 8px);
    min-width: 140px;
    text-align: center;
  }

  #results {
    align-items: flex-start;
    width: 100%;
  }

  #lastDrawn {
    align-self: stretch;
  }
}

/* === SPEZIELLES HOCHKANT-LAYOUT (Portrait) === */
@media (orientation: portrait) {

  body {
    align-items: flex-start;
    height: auto;
    min-height: 100vh;
    padding: 8px 6px 16px;
  }

  #wrapper {
    width: 100%;
    align-items: center;
  }

  #gameContainer {
    width: 100%;
    max-width: 100%;
    padding: 10px 10px 16px;
  }

  /* Logo über der Trommel */
  #logo-frame {
    width: 100%;
    max-width: 100%;
    height: 90px;
    margin-bottom: 10px;
  }

  /* Canvas im Hochformat: sehr hoch, volle Breite */
  #canvas-area {
    width: 100%;
    max-width: 100%;
    height: min(520px, 70vh);
    margin-bottom: 10px;
  }

  #lotto-canvas {
    width: 100%;
    height: 100%;
    display: block;
  }

  /* UI unter der Trommel, einspaltig */
  #ui {
    grid-template-columns: 1fr;
    gap: 10px;
    margin-top: 12px;
  }

  #controlsLeft {
    width: 100%;
  }

  #buttonsRow {
    justify-content: center;
    flex-wrap: wrap;
  }

  #buttonsRow button,
  #muteButton {
    flex: 1 1 calc(50% - 8px);
    min-width: 140px;
    text-align: center;
  }

  #results {
    align-items: flex-start;
    width: 100%;
  }

  #lastDrawn {
    align-self: stretch;
  }
}
